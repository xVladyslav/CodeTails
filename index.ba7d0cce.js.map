{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,0BCAO,MAAMC,EAAgB,CACzBC,WAAY,iBACZC,YACI,OAAOC,KAAKC,MAAMC,aAAaC,QAAQC,KAAKN,YAChD,EACAO,UAAUC,GACNJ,aAAaK,QAAQH,KAAKN,WAAYE,KAAKQ,UAAUF,GACzD,EACAG,eACIP,aAAaQ,WAAWN,KAAKN,WACjC,G,2CDFJ,MAAMa,EAAiBC,SAASC,cAAc,oBACxCC,EAAeF,SAASC,cAAc,kBACtCE,EAAeH,SAASI,iBAAiB,uBAE/C,IAAIC,GAAoB,EAAAtB,EAAAuB,sBAExB,MAAMC,EAActB,EAAcE,YAE/BoB,GACDJ,EAAa,GAAGK,MAAQD,EACxBJ,EAAa,GAAGK,MAAQD,EACxBL,EAAaO,UAAY,sBACzBV,EAAeU,UAAY,IAE3B,EAAAC,EAAAC,sBAAqBJ,GACpBK,MAAKC,IACJX,EAAaO,UAAY,YACzBV,EAAeU,UAAY,GAC3BV,EAAee,WAAY,EAAAC,EAAAC,iBACzBH,EAAKI,MAAM,EAAGZ,MAEhB,EAAAa,EAAAC,kBACEN,EACAR,EACA,GAEFpB,EAAcY,cAAY,IAE3BuB,OAAOC,IACNnB,EAAaO,UAAYY,EACzBtB,EAAeU,WAAY,EAAAa,EAAAC,iBAAa,MAG1C,EAAAb,EAAAc,sBAAqBnB,GAAmBO,MAAKC,IAC3CX,EAAaO,UAAY,YACzBV,EAAeU,UAAY,GAC3BV,EAAee,WAAU,EAAAC,EAAAC,iBAAgBH,GAAA,G","sources":["src/js/main.js","src/js/search-storage.js"],"sourcesContent":["import { calculateCocktails } from './calculate';\nimport { fetchRandomCocktails, fetchCocktailsByName } from './fetch-cocktails';\nimport { getDrinksMarkup } from './get-drinks-markup';\nimport { SearchStorage } from './search-storage';\nimport { calculateCocktails } from './calculate';\nimport { createPagination } from './pagination';\nimport { getErrorMarkup } from './get-error-markup';\n\nconst contentResults = document.querySelector('#content-results');\nconst contentTitle = document.querySelector('#content-title');\nconst searchFields = document.querySelectorAll('.search-form__input');\n\nlet numberOfCocktails = calculateCocktails();\n\nconst searchValue = SearchStorage.getSearch();\n\nif(searchValue) {\n  searchFields[0].value = searchValue;\n  searchFields[1].value = searchValue;\n  contentTitle.innerHTML = 'Searching results..';\n  contentResults.innerHTML = '';\n\n  fetchCocktailsByName(searchValue)\n  .then(data => {\n    contentTitle.innerHTML = 'Cocktails';\n    contentResults.innerHTML = \"\";\n    contentResults.append ( ...getDrinksMarkup(\n      data.slice(0, numberOfCocktails)\n    ));\n    createPagination(\n      data,\n      numberOfCocktails,\n      1\n    );\n    SearchStorage.cleanStorage();\n  })\n  .catch((error) => {\n    contentTitle.innerHTML = error\n    contentResults.innerHTML = getErrorMarkup()\n  });\n} else {\n  fetchRandomCocktails(numberOfCocktails).then(data => {\n    contentTitle.innerHTML = 'Cocktails';\n    contentResults.innerHTML = '';\n    contentResults.append(...getDrinksMarkup(data));\n  });\n}\n","export const SearchStorage = {\n    storageKey: 'search-storage',\n    getSearch() {\n        return JSON.parse(localStorage.getItem(this.storageKey));\n    },\n    setSearch(searchQuery) {\n        localStorage.setItem(this.storageKey, JSON.stringify(searchQuery));\n    },\n    cleanStorage() {\n        localStorage.removeItem(this.storageKey);\n    }\n}\n"],"names":["$80k9Z","parcelRequire","$3712c89a73bebba2$export$2d97b735e058843","storageKey","getSearch","JSON","parse","localStorage","getItem","this","setSearch","searchQuery","setItem","stringify","cleanStorage","removeItem","$089c40fcbb903d20$var$contentResults","document","querySelector","$089c40fcbb903d20$var$contentTitle","$089c40fcbb903d20$var$searchFields","querySelectorAll","$089c40fcbb903d20$var$numberOfCocktails","calculateCocktails","$089c40fcbb903d20$var$searchValue","value","innerHTML","$g0jhG","fetchCocktailsByName","then","data","append","$kE9Qy","getDrinksMarkup","slice","$jcFG7","createPagination","catch","error","$g1ABy","getErrorMarkup","fetchRandomCocktails"],"version":3,"file":"index.ba7d0cce.js.map"}